# 🎮 CrossVerse Arena —— 宇宙竞技场

**一个高度模块化、完全由配置驱动的跨IP角色对战塔防平台**

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![Pygame](https://img.shields.io/badge/Pygame-2.0+-green.svg)](https://www.pygame.org/)

> 📖 **[查看游戏玩法说明](游戏玩法说明.md)** | 🎯 **[新手教程指南](游戏玩法说明.md#-新手教程关卡详情)** | 🎮 **立即开始：`python main.py`**

---

## 📋 项目简介

CrossVerse Arena 是一个创新的跨IP角色对战塔防平台，参考了《植物大战僵尸》的核心玩法框架，结合了《王者荣耀》的打击感与画质基准，采用《我的世界》式的模块化资源管理系统。

### ✨ 核心特性

- **🚫 绝对零硬编码**：所有游戏内容通过YAML配置文件定义
- **⚙️ 全配置驱动**：无需修改代码即可添加新游戏IP、角色、技能、皮肤
- **🔥 热加载支持**：配置文件修改后自动生效，无需重启
- **🎨 生产级画质**：支持动态光影、粒子特效、模型LOD优化
- **💥 流畅打击感**：帧同步、碰撞反馈、音效振动联动
- **📊 性能监控**：实时监控帧率、内存、CPU占用，自适应调整
- **🛠️ 管理界面**：所有配置通过管理界面操作，支持回收站和操作日志
- **🎭 完整皮肤系统**：支持多皮肤切换、特效叠加、属性加成

---

## 🚀 快速开始

### 环境要求

- Python 3.8+
- pip 包管理器

### 安装依赖

```bash
pip install pygame pyyaml psutil
```

### 运行游戏

```bash
python main.py
```

---

## 🎯 使用指南

### 游戏操作

- **ESC**：暂停/继续游戏
- **Ctrl+Shift+D**：打开管理界面（开发人员）
- **鼠标点击**：放置角色、选择选项

### 管理界面

**快捷键**：`Ctrl+Shift+D`
**默认密码**：`admin123`（请务必修改）

**功能**：
- 新增游戏IP、角色、技能、皮肤
- 配置战役和关卡
- 上传资源文件
- 删除配置（自动进入回收站）
- 查看操作日志

⚠️ **重要**：严禁手动编辑配置文件，所有操作必须通过管理界面完成！

---

## 📂 项目结构

```
CrossVerseArena/
├── core/                      # 核心系统模块
│   ├── game_engine.py         # 游戏引擎
│   ├── config_loader.py       # 配置加载器
│   ├── resource_loader.py     # 资源加载器
│   ├── entity_manager.py      # 实体管理器
│   ├── skill_executor.py      # 技能系统
│   ├── effect_manager.py      # 效果系统
│   ├── skin_manager.py        # 皮肤系统
│   └── ...                    # 其他核心模块
│
├── games/                     # 游戏IP资源
│   ├── dnf/                   # 地下城与勇士
│   │   ├── meta.yaml          # 元信息
│   │   ├── characters/        # 角色配置
│   │   ├── skins/             # 皮肤配置
│   │   └── assets/            # 资源文件
│   └── league_of_legends/     # 英雄联盟
│
├── campaigns/                 # 战役配置
│   └── dnf_vs_lol/           # DNF vs LOL
│       ├── campaign.yaml
│       └── levels/
│
├── performance/               # 性能配置
│   └── device_profiles/
│       ├── high_end.yaml
│       ├── mid_end.yaml
│       └── low_end.yaml
│
├── settings.yaml              # 全局设置
├── main.py                    # 程序入口
└── README.md                  # 本文件
```

---

## ⚙️ 配置说明

### 全局设置 (settings.yaml)

控制游戏基础参数：语言、分辨率、帧率、画质、性能等。

### 游戏IP配置 (games/<game>/meta.yaml)

定义游戏的基础信息、支持的效果类型、渲染配置等。

### 角色配置 (games/<game>/characters/<char>.yaml)

定义角色的属性、技能、皮肤、模型、AI行为等。

### 皮肤配置 (games/<game>/skins/<skin>.yaml)

定义皮肤的解锁条件、属性加成、特效、资源等。

### 战役配置 (campaigns/<id>/campaign.yaml)

定义战役的元数据、防守方/攻击方、难度等。

### 关卡配置 (campaigns/<id>/levels/<level>.yaml)

定义关卡的波次、Boss、胜利条件、奖励等。

---

## 🎨 画质等级

- **高画质**：全开特效，适用于旗舰设备
- **中画质**：平衡画质与性能（默认）
- **低画质**：优先流畅度，适用于低端设备

游戏会根据设备性能自动选择合适的画质等级。

---

## 📊 性能监控

实时监控：
- 帧率（FPS）
- 内存占用
- CPU使用率
- 渲染性能

当性能低于阈值时，系统会自动调整画质参数。

---

## 🛡️ 安全机制

- **回收站**：删除的配置和资源可恢复
- **操作日志**：所有管理操作都有记录
- **配置验证**：加载时严格验证配置合法性

---

## 🔧 开发指南

### 添加新游戏IP

通过管理界面（Ctrl+Shift+D）：
1. 选择"新增游戏IP"
2. 填写信息并上传资源
3. 保存配置

### 添加新角色

1. 在管理界面选择"新增角色"
2. 配置属性和技能
3. 上传角色资源
4. 保存配置

### 创建新战役

1. 选择"新增战役"
2. 配置防守方和攻击方
3. 创建关卡
4. 保存配置

---

## 🎯 路线图

### 已完成 ✅

- 核心游戏引擎
- 配置加载系统（热加载）
- 资源加载系统
- 实体管理系统
- 技能执行引擎
- 效果管理系统
- 皮肤系统
- 性能监控系统
- 示例游戏IP（DNF、LOL）
- 示例战役和关卡

### 开发中 🚧

- 完整的管理界面UI
- 3D模型渲染
- 高级特效系统
- AI决策树
- 联机对战

### 计划中 📋

- 关卡编辑器
- 皮肤设计器
- MOD支持
- 移动端适配

---

## 🙏 致谢

感谢以下项目的启发：
- **植物大战僵尸**：核心玩法框架
- **王者荣耀**：打击感与画质基准
- **我的世界**：模块化资源管理

---

## 📜 许可证

本项目采用 MIT 许可证。

---

**🎮 开始你的跨IP对战之旅吧！**
